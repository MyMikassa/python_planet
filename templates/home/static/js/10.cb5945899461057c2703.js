webpackJsonp([10],{"4qf1":function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("CaOM"),d=a("mtWM"),n=a.n(d),i=a("P9l9"),o=a("Au9i"),r={data:function(){return{name:"",addressList:[],from:"",uaid:""}},components:{},methods:{changeRoute:function(s,t){t?this.$router.push({path:s,query:{uaid:t.uaid}}):this.$router.push(s)},chooseAddress:function(s){this.from&&(this.$router.go(-1),localStorage.setItem("uaid",s.uaid))},defaultAddress:function(s,t){var a=this,e={uaid:s.uaid};"0"==s.uadefault?e.uadefault="1":"1"==s.uadefault&&(e.uadefault="0"),n.a.post(i.a.update_address+"?token="+localStorage.getItem("token"),e).then(function(s){if(200==s.data.status){Object(o.Toast)("设置成功");for(var d=0;d<a.addressList.length;d++)a.addressList[d].uadefault="0";a.addressList[t].uadefault=e.uadefault}else Object(o.Toast)(s.data.message)})},deleteAddress:function(s,t){var a=this;o.MessageBox.confirm("是否删除该收货地址?").then(function(){var e={uaid:s.uaid,uaisdelete:"1"};n.a.post(i.a.update_address+"?token="+localStorage.getItem("token"),e).then(function(s){200==s.data.status?(Object(o.Toast)("删除成功"),a.addressList.splice(t,1)):Object(o.Toast)(s.data.message)})}).catch(function(){})},getAllAddress:function(){var s=this,t={token:localStorage.getItem("token"),page_num:1,page_size:30};n.a.get(i.a.get_all_address,{params:t}).then(function(t){200==t.data.status?s.addressList=t.data.data:Object(o.Toast)(t.data.message)})}},mounted:function(){e.a.changeTitle("地址管理"),this.getAllAddress(),this.from=this.$route.query.from}},c={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"m-personal "},[s._m(0),s._v(" "),a("div",{staticClass:"m-personal-content m-setUp m-address"},[0==s.addressList.length?a("div",{staticClass:"m-no-coupon"},[a("span",{staticClass:"m-no-img m-address-no-img"}),s._v(" "),a("p",[s._v("暂无地址哦,"),a("span",{staticClass:"m-red",on:{click:function(t){s.changeRoute("/personal/addAddress")}}},[s._v("去新增地址")]),s._v("吧~")])]):s._e(),s._v(" "),s.addressList.length>0?a("div",{staticClass:"m-personal-body"},[a("div",{staticClass:"m-one-part m-address-part"},[a("ul",{staticClass:"m-edit-ul m-address-edit-ul"},s._l(s.addressList,function(t,e){return a("li",{on:{click:function(a){s.chooseAddress(t)}}},[a("div",{staticClass:"m-left"},[a("div",{staticClass:"m-address-name"},[a("div",[a("span",{staticClass:"m-border"}),s._v(" "),a("span",[s._v("收货人："+s._s(t.uaname))])]),s._v(" "),a("span",[s._v(s._s(t.uaphone))])]),s._v(" "),a("p",{staticClass:"m-address-p"},[s._v(s._s(t.addressinfo))])]),s._v(" "),a("div",{staticClass:"m-address-edit-box"},[a("div",{on:{click:function(a){a.stopPropagation(),s.defaultAddress(t,e)}}},[a("span",{staticClass:"m-icon-radio",class:"1"==t.uadefault?"active":""}),s._v(" "),a("span",[s._v("默认地址")])]),s._v(" "),a("div",[a("span",{staticClass:"m-mr-40 m-ft-22",on:{click:function(a){a.stopPropagation(),s.changeRoute("/personal/addAddress",t)}}},[s._v("编辑")]),s._v(" "),a("span",{staticClass:"m-ft-22",on:{click:function(a){a.stopPropagation(),s.deleteAddress(t,e)}}},[s._v("删除")])])])])}))]),s._v(" "),a("div",{staticClass:"m-address-btn",on:{click:function(t){s.changeRoute("/personal/addAddress")}}},[a("span",[s._v("新增地址")])])]):s._e()])])},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"m-personal-bg"},[t("span",{staticClass:"m-icon-bg"})])}]};var u=a("VU/8")(r,c,!1,function(s){a("d9+9")},"data-v-f39ca800",null);t.default=u.exports},"d9+9":function(s,t){}});
//# sourceMappingURL=10.cb5945899461057c2703.js.map