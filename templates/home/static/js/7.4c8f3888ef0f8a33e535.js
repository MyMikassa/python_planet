webpackJsonp([7],{"+YtW":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("mvHQ"),i=a.n(e),o=a("CaOM"),n=a("9RrF"),r=a("mtWM"),c=a.n(r),_=a("P9l9"),l=(a("Au9i"),{data:function(){return{order_info:"",logistic_info:null}},components:{bottom:n.a},inject:["reload"],mounted:function(){o.a.changeTitle("订单详情"),this.getOrderInfo()},methods:{changeRoute:function(t,s){switch(t){case"/brandDetail":this.$router.push({path:t,query:{pbid:this.order_info.pbid}});break;case"/product/detail":this.$router.push({path:t,query:{prid:s.prid}});break;case"/selectBack":var a=[];a.push(s),this.$router.push({path:t,query:{product:i()(a)}});break;case"/logisticsInformation":this.$router.push({path:t,query:{omid:this.order_info.omid}});break;default:this.$router.push(t)}},getOrderInfo:function(){var t=this;c.a.get(_.a.order_get,{params:{token:localStorage.getItem("token"),omid:this.$route.query.omid}}).then(function(s){200==s.data.status&&(t.order_info=s.data.data,s.data.data.omstatus>=20&&t.getLogistic())})},getLogistic:function(){var t=this;c.a.get(_.a.get_logistic,{params:{omid:this.$route.query.omid}}).then(function(s){200==s.data.status&&(t.logistic_info=s.data.data)})},cancelOrder:function(){var t=this;c.a.post(_.a.cancle_order+"?token="+localStorage.getItem("token"),{omid:this.$route.query.omid}).then(function(s){200==s.data.status&&t.reload()})}}}),d={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"m-orderDetail"},[0==t.order_info.omstatus?a("div",{staticClass:"m-orderDetail-status"},[a("span",[t._v("买家待付款")]),t._v(" "),a("span",{staticClass:"m-icon-order-status m-pay"})]):t._e(),t._v(" "),-40==t.order_info.omstatus?a("div",{staticClass:"m-orderDetail-status"},[a("span",[t._v("买家已取消")]),t._v(" "),a("span",{staticClass:"m-icon-order-status m-pay"})]):t._e(),t._v(" "),10==t.order_info.omstatus?a("div",{staticClass:"m-orderDetail-status"},[a("span",[t._v("买家已付款")]),t._v(" "),a("span",{staticClass:"m-icon-order-status m-pay"})]):t._e(),t._v(" "),20==t.order_info.omstatus?a("div",{staticClass:"m-orderDetail-status"},[a("span",[t._v("卖家已发货")]),t._v(" "),a("span",{staticClass:"m-icon-order-status m-send"})]):t._e(),t._v(" "),30==t.order_info.omstatus||35==t.order_info.omstatus?a("div",{staticClass:"m-orderDetail-status"},[a("span",[t._v("买家已签收")]),t._v(" "),a("span",{staticClass:"m-icon-order-status m-send"})]):t._e(),t._v(" "),a("div",{staticClass:"m-order-one-part"},[t.logistic_info?a("div",{staticClass:"m-user-text",on:{click:function(s){t.changeRoute("/logisticsInformation")}}},[a("span",{staticClass:"m-icon-wuliu m-done"}),t._v(" "),a("div",{staticClass:"m-flex-between"},[a("div",[a("p",{staticClass:"m-wuliu-text"},[t._v(t._s(t.logistic_info.ollastresult.status))]),t._v(" "),a("p",[t._v(t._s(t.logistic_info.ollastresult.time))])]),t._v(" "),a("span",{staticClass:"m-icon-more"})])]):t._e(),t._v(" "),a("div",{staticClass:"m-user-text"},[a("span",{staticClass:"m-icon-loc"}),t._v(" "),a("div",[a("p",[a("span",[t._v(t._s(t.order_info.omrecvname))]),t._v(" "),a("span",{staticClass:"m-user-tel"},[t._v(t._s(t.order_info.omrecvphone))])]),t._v(" "),a("p",{staticClass:"m-bottom-text"},[t._v("\n          收货地址："+t._s(t.order_info.omrecvaddress)+"\n        ")])])])]),t._v(" "),a("div",{staticClass:"m-order-one-part m-box-shadow"},[a("div",{staticClass:"m-order-store-tile"},[a("div",{on:{click:function(s){s.stopPropagation(),t.changeRoute("/brandDetail")}}},[a("span",{staticClass:"m-icon-store"}),t._v(" "),a("span",{staticClass:"m-store-name"},[t._v(t._s(t.order_info.pbname))]),t._v(" "),a("span",{staticClass:"m-icon-more"})]),t._v(" "),a("span",{staticClass:"m-red"},[t._v(t._s(t.order_info.omstatus_zh))])]),t._v(" "),t._l(t.order_info.order_part,function(s,e){return a("div",[a("div",{staticClass:"m-order-product-ul"},[a("div",{staticClass:"m-product-info",on:{click:function(a){a.stopPropagation(),t.changeRoute("/product/detail",s)}}},[a("img",{staticClass:"m-product-img",attrs:{src:s.prmainpic,alt:""}}),t._v(" "),a("div",[a("p",{staticClass:"m-flex-between"},[a("span",{staticClass:"m-product-name"},[t._v("南面防雨防风软壳衣\n            南面防雨防风软壳衣")]),t._v(" "),a("span",[t._v("￥"+t._s(s.skuprice))])]),t._v(" "),a("p",{staticClass:"m-flex-between m-sku-text m-ft-22"},[a("span",{staticClass:"m-product-label"},[t._l(s.skuattritedetail,function(e,i){return[a("span",[t._v(t._s(e))]),t._v(" "),i<s.skuattritedetail.length-1?a("span",[t._v("；")]):t._e()]})],2),t._v(" "),a("span",[t._v("x"+t._s(t.order_info.opnum)+"1")])])])])]),t._v(" "),t._m(0,!0),t._v(" "),a("p",{staticClass:"m-flex-between m-ft-22"},[a("span",[t._v("实付款（含运费）")]),t._v(" "),a("span",{staticClass:"m-price"},[t._v("￥"+t._s(t._f("money")(s.opsubtotal)))])]),t._v(" "),a("p",{staticClass:"m-back-btn"},[-40!=t.order_info.omstatus&&0!=t.order_info.omstatus?a("span",{on:{click:function(a){t.changeRoute("/selectBack",s)}}},[t._v("退款")]):t._e()])])})],2),t._v(" "),a("div",{staticClass:"m-order-one-part m-box-shadow"},[t._m(1),t._v(" "),a("div",{staticClass:"m-ft-22 m-time-text"},[a("p",[t._v("订单编号："+t._s(t.order_info.omno))]),t._v(" "),a("p",[t._v("创建时间：2018-11-05 11:26:00")]),t._v(" "),a("p",[t._v("付款时间：2018-11-05 11:27:30")]),t._v(" "),a("p",[t._v("发货时间：2018-11-05 11:55:09")])])]),t._v(" "),a("div",{staticClass:"m-align-right"},[20==t.order_info.omstatus?a("span",{on:{click:function(s){t.changeRoute("/logisticsInformation")}}},[t._v("查看物流")]):t._e(),t._v(" "),-40==t.order_info.omstatus||30==t.order_info.omstatus?a("span",[t._v("\n      删除订单\n    ")]):t._e(),t._v(" "),0==t.order_info.omstatus?a("span",{on:{click:t.cancelOrder}},[t._v("\n     取消订单\n    ")]):t._e(),t._v(" "),10==t.order_info.omstatus||20==t.order_info.omstatus?a("span",{staticClass:"active"},[t._v("确认收货")]):t._e(),t._v(" "),0==t.order_info.omstatus?a("span",{staticClass:"active"},[t._v("\n      立即付款\n    ")]):t._e()]),t._v(" "),a("bottom")],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"m-flex-between m-ft-22"},[s("span",[this._v("运费")]),this._v(" "),s("span",[this._v("￥0.00")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("span",{staticClass:"m-border"}),this._v(" "),s("span",[this._v("订单信息")])])}]};var v=a("VU/8")(l,d,!1,function(t){a("yDC9")},"data-v-40b6b69a",null);s.default=v.exports},"9RrF":function(t,s,a){"use strict";var e={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-bottomService-foot"},[s("div",{staticClass:"m-foot-btn"},[s("span",{staticClass:"m-icon-service"}),this._v(" "),s("span",[this._v("联系卖家")])]),this._v(" "),s("div",{staticClass:"m-foot-btn"},[s("span",{staticClass:"m-icon-tell"}),this._v(" "),s("span",[this._v("拨打电话")])])])}]};var i=a("VU/8")({name:"bottom-service"},e,!1,function(t){a("ISBl")},"data-v-009bacae",null);s.a=i.exports},ISBl:function(t,s){},yDC9:function(t,s){}});
//# sourceMappingURL=7.4c8f3888ef0f8a33e535.js.map