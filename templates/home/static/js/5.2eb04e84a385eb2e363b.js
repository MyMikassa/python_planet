webpackJsonp([5],{"15wu":function(t,s){},"8xob":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e,c=a("kOVN"),i=a("CaOM"),n=a("mtWM"),o=a.n(n),l=a("P9l9"),u=a("Au9i"),r={afterOpen:function(){e=document.scrollingElement.scrollTop||document.body.scrollTop,document.body.classList.add("scroll"),document.body.style.top=-e+"px"},beforeClose:function(){document.body.classList.remove("scroll"),document.scrollingElement.scrollTop=e,document.body.scrollTop=e}},m={data:function(){return{show_sku:!1,product_info:null,sku:null,select_value:null,canums:1}},components:{sku:c.a},mounted:function(){i.a.changeTitle("商品详情"),this.getInfo()},methods:{changeModal:function(t,s){this[t]=s,s?r.afterOpen():r.beforeClose()},changeRoute:function(t){this.$router.push(t)},changeBack:function(){this.$router.go(-1)},getInfo:function(){var t=this;o.a.get(l.a.product_get,{params:{prid:this.$route.query.prid}}).then(function(s){200==s.data.status?t.product_info=s.data.data:Object(u.Toast)({message:s.data.message,duration:1e3,className:"m-toast-fail"})},function(t){Object(u.Toast)({message:t.data.message,duration:1e3,className:"m-toast-fail"})})},sureClick:function(t,s){this.canums=s,this.select_value=t,this.postCart(),this.changeModal("show_sku",!1)},postCart:function(){o.a.post(l.a.cart_create+"?token="+localStorage.getItem("token"),{skuid:this.select_value.skuid,canums:this.canums}).then(function(t){200==t.data.status?Object(u.Toast)({message:t.data.message,duration:1e3,className:"m-toast-success"}):Object(u.Toast)({message:t.data.message,duration:1e3,className:"m-toast-fail"})},function(t){Object(u.Toast)({message:t.data.message,duration:1e3,className:"m-toast-fail"})})},addCart:function(){this.select_value?this.postCart():this.show_sku=!0},buyNow:function(){this.select_value||(this.show_sku=!0)}}},d={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.product_info?a("div",{staticClass:"m-product-detail"},[a("div",{staticClass:"m-product-swipe"},[a("mt-swipe",{attrs:{auto:2e3}},t._l(t.product_info.images,function(t){return a("mt-swipe-item",{key:t.piid},[a("img",{staticClass:"m-swipe-img",attrs:{src:t.pipic,alt:""}})])})),t._v(" "),a("span",{staticClass:"m-icon-back",on:{click:t.changeBack}})],1),t._v(" "),a("div",{staticClass:"m-product-detail-info"},[a("h3",[a("span",{staticClass:"m-product-title"},[t._v(t._s(t.product_info.prtitle))]),t._v(" "),a("span",{staticClass:"m-red"},[t._v("￥1668.0")])]),t._v(" "),a("div",{staticClass:"m-info-list"},[a("span",[t._v("快递："+t._s(t.product_info.prfreight))]),t._v(" "),a("span",[t._v("月销："+t._s(t.product_info.month_sale_value))]),t._v(" "),a("span",[t._v("\n        "+t._s(t.product_info.brand.pbname)+"\n      ")])])]),t._v(" "),a("div",{staticClass:"m-product-detail-more",on:{click:function(s){t.changeModal("show_sku",!0)}}},[a("div",[a("span",{staticClass:"m-label"},[t._v("规格")]),t._v(" "),a("span",{staticClass:"m-select m-black"},[t._v("选择\n\n        "),t.select_value?t._l(t.select_value.skuattritedetail,function(s,e){return a("span",[t._v(t._s(t.product_info.prattribute[e])+" "+t._s(s))])}):t._l(t.product_info.prattribute,function(s){return a("span",[t._v(t._s(s)+" ")])})],2)]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"m-product-detail-more",on:{click:function(s){t.changeRoute("/evaluate")}}},[t._m(1),t._v(" "),t._m(2)]),t._v(" "),a("div",{staticClass:"m-product-detail-img-box"},[a("img",{attrs:{src:t.product_info.prdesc,alt:""}})]),t._v(" "),a("div",{staticClass:"m-product-detail-foot"},[a("span",{staticClass:"m-icon-car",on:{click:function(s){s.stopPropagation(),t.changeRoute("/shop")}}}),t._v(" "),a("span",{staticClass:"m-icon-service"}),t._v(" "),a("div",{staticClass:"m-product-detail-btn"},[a("span",{on:{click:t.addCart}},[t._v("加入购物车")]),t._v(" "),a("span",{staticClass:"active",on:{click:t.buyNow}},[t._v("立即购物车")])])]),t._v(" "),t.show_sku?a("sku",{attrs:{now_select:t.select_value,now_num:t.canums,product:t.product_info},on:{changeModal:t.changeModal,sureClick:t.sureClick}}):t._e()],1):t._e()},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticClass:"m-more"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticClass:"m-label"},[this._v("评价")]),this._v(" "),s("span",{staticClass:"m-start active"}),this._v(" "),s("span",{staticClass:"m-start active"}),this._v(" "),s("span",{staticClass:"m-start active"}),this._v(" "),s("span",{staticClass:"m-start active"}),this._v(" "),s("span",{staticClass:"m-start "})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("span",{staticClass:"m-ft-20"},[this._v("查看详情")]),this._v(" "),s("span",{staticClass:"m-more"})])}]};var _=a("VU/8")(m,d,!1,function(t){a("EIsO")},"data-v-16ef06b6",null);s.default=_.exports},EIsO:function(t,s){},kOVN:function(t,s,a){"use strict";var e=a("mvHQ"),c=a.n(e),i={data:function(){return{select:[],select_value:null,num:1}},props:{product:{type:Object,default:null},now_select:{type:Object,default:null},now_num:{type:Number,default:1}},mounted:function(){this.now_select&&(this.select_value=this.now_select,this.select=this.select_value.skuattritedetail,this.num=this.now_num)},methods:{changeModal:function(t,s){this.$emit("changeModal",t,s)},changeNum:function(t){if(-1==t&&1==this.num)return!1;this.num=this.num+t},skuSelect:function(t,s){var a=[].concat(this.select);a[t]=s,this.select=[].concat(a);var e=-1;if(this.select.length===this.product.skuvalue.length)for(var i=0;i<this.product.skus.length;i++)c()(this.product.skus[i].skuattritedetail)===c()(this.select)&&this.product.skus[i].skuattritedetail.length==this.select.length&&(this.select_value=this.product.skus[i],e+=1);-1==e&&(this.select_value=null)},sureClick:function(){this.$emit("sureClick",this.select_value,this.num)}}},n={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"m-sku"},[a("div",{staticClass:"m-sku-state"},[a("span",{staticClass:"m-icon-close",on:{click:function(s){t.changeModal("show_sku",!1)}}}),t._v(" "),a("div",{staticClass:"m-sku-content"},[a("div",{staticClass:"m-sku-img-box m-center"},[t.select_value?a("img",{attrs:{src:t.select_value.skupic,alt:""}}):a("img",{attrs:{src:t.product.prmainpic,alt:""}})]),t._v(" "),a("div",{staticClass:"m-center"},[t.select_value?a("span",{staticClass:"m-red"},[t._v("￥"+t._s(t.select_value.skuprice))]):a("span",{staticClass:"m-red"},[t._v("￥"+t._s(t.product.prprice))])]),t._v(" "),a("div",{staticClass:"m-scroll"},[a("ul",{staticClass:"m-sku-box"},t._l(t.product.skuvalue,function(s,e){return a("li",[a("p",[t._v(t._s(s.name))]),t._v(" "),a("ul",{staticClass:"m-sku-ul"},t._l(s.value,function(s){return a("li",{class:s==t.select[e]?"active":"",on:{click:function(a){a.stopPropagation(),t.skuSelect(e,s)}}},[t._v(t._s(s))])}))])})),t._v(" "),a("div",{staticClass:"m-sku-num"},[a("span",[t._v("购买数量")]),t._v(" "),a("div",{staticClass:"m-num"},[a("span",{staticClass:"m-icon-cut",on:{click:function(s){s.stopPropagation(),t.changeNum(-1)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],staticClass:"m-num-input",attrs:{type:"number",min:"1"},domProps:{value:t.num},on:{input:function(s){s.target.composing||(t.num=s.target.value)}}}),t._v(" "),a("span",{staticClass:"m-icon-add",on:{click:function(s){s.stopPropagation(),t.changeNum(1)}}})])])]),t._v(" "),a("div",{staticClass:"m-sku-btn"},[t.select_value&&t.select_value.skustock>0?a("span",{staticClass:"active",on:{click:function(s){return s.stopPropagation(),t.sureClick(s)}}},[t._v("确 定")]):a("span",[t._v("确定")])])])])])},staticRenderFns:[]};var o=a("VU/8")(i,n,!1,function(t){a("15wu")},"data-v-26cf458c",null);s.a=o.exports}});
//# sourceMappingURL=5.2eb04e84a385eb2e363b.js.map