webpackJsonp([24],{JWAt:function(t,a){},g2ls:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("mvHQ"),e=s.n(i),c=s("CaOM"),n=s("mtWM"),r=s.n(n),o=s("P9l9"),d=s("Au9i"),u={data:function(){return{name:"gift",gift:{}}},methods:{getGift:function(){var t=this;r.a.get(o.a.product_get+"?prid=pridgift").then(function(a){200==a.data.status?t.gift=a.data.data:Object(d.Toast)(a.data.message)})},buyGift:function(){var t=this,a={skuid:this.gift.skus[0].skuid,canums:1};r.a.post(o.a.cart_create+"?token="+localStorage.getItem("token"),a).then(function(a){if(200==a.data.status){var s={token:localStorage.getItem("token"),page_size:1,page_num:1};r.a.get(o.a.cart_list,{params:s}).then(function(a){if(200==a.data.status){a.data.data[0].cart.splice(1,a.data.data[0].cart.length-1);var s=a.data.data;s[0].cart[0].canums=1;var i={caid:s[0].cart[0].caid,skuid:s[0].cart[0].sku.skuid,canums:1};r.a.post(o.a.cart_update+"?token="+localStorage.getItem("token"),i).then(function(a){200==a.data.status?t.$router.push({path:"/submitOrder",query:{product:e()(s),gift:!0}}):Object(d.Toast)(a.data.message)})}else Object(d.Toast)(a.data.message)})}else Object(d.Toast)(a.data.message)})}},mounted:function(){c.a.changeTitle("购买礼包"),this.getGift()}},f={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"m-gift"},[s("div",{staticClass:"m-gift-img-box"},[s("img",{staticClass:"m-gift-img",attrs:{src:t.gift.prmainpic,alt:""}})]),t._v(" "),s("div",{staticClass:"m-gift-text"},[s("div",{staticClass:"m-gift-row"},[s("div",{staticClass:"m-ft-30 m-ft-b"},[t._v(t._s(t.gift.prtitle))]),t._v(" "),s("div",{staticClass:"m-ft-30 m-ft-b m-price-color"},[t._v("￥"+t._s(t.gift.prprice))])]),t._v(" "),s("div",{staticClass:"m-gift-row"},[s("div",{staticClass:"m-row-999"},[t._v("月销："+t._s(t.gift.month_sale_value)+"笔")]),t._v(" "),s("div",{staticClass:"m-row-999"},[t._v("大行星平台")])])]),t._v(" "),s("div",{staticClass:"m-gift-btn",on:{click:t.buyGift}},[t._v("立即购买")])])},staticRenderFns:[]};var g=s("VU/8")(u,f,!1,function(t){s("JWAt")},"data-v-8c33e794",null);a.default=g.exports}});
//# sourceMappingURL=24.260c7f358ac718d29ed7.js.map