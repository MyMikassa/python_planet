webpackJsonp([12],{"5ZA0":function(t,a){},na8O:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("6u2u"),n=s("gTcU"),o=s("CaOM"),e=s("mtWM"),c=s.n(e),l=s("P9l9"),r=s("Au9i"),d=s("POuD"),_={data:function(){return{nav_list:[{name:"综合",params:"",active:!0},{name:"销量",params:"sale_value",active:!1,icon:!0,desc_asc:!0},{name:"价格",params:"price",icon:!0,active:!1,desc_asc:!0}],brand_info:null,product_list:null,bottom_show:!1,page_info:{page_num:1,page_size:5},isScroll:!0,total_count:0,isFold:!1}},components:{navList:i.a,product:n.a,bottomLine:d.a},mounted:function(){o.a.changeTitle(this.$route.query.pbname),this.getBrand(),this.getProduct()},methods:{touchMove:function(t){var a=o.a.getScrollTop(),s=o.a.getScrollHeight();if(a+o.a.getClientHeight()>=s-10&&this.isScroll)if(this.isScroll=!1,this.product_list.length==this.total_count)this.bottom_show=!0;else for(var i=0;i<this.nav_list.length;i++)this.nav_list[i].active&&(0!=i?this.getProduct(this.nav_list[i].params+(this.nav_list[i].desc_asc?"|asc":"|desc")):this.getProduct())},navClick:function(t){this.page_info.page_num=1,this.total_count=0,this.bottom_show=!1;for(var a=[].concat(this.nav_list),s=0;s<a.length;s++)a[s].active=!1;a[t].active=!0,0!=t?(a[t].desc_asc=!a[t].desc_asc,a[t].desc_asc?this.getProduct(a[t].params+"|asc"):this.getProduct(a[t].params+"|desc")):this.getProduct(),this.nav_list=[].concat(a)},getBrand:function(){var t=this;c.a.get(l.a.get_one_brand,{params:{pbid:this.$route.query.pbid}}).then(function(a){200==a.data.status&&(t.brand_info=a.data.data)})},getProduct:function(t){var a=this,s=this.$route.query.pbid||"",i=this.page_info.page_num;c.a.get(l.a.product_list,{params:{pbid:s,page_size:this.page_info.page_size,order_type:t,page_num:i,token:localStorage.getItem("token")}}).then(function(t){if(200==t.data.status){if(!(t.data.data.length>0))return a.page_info.page_num=1,a.total_count=0,!1;a.page_info.page_num=a.page_info.page_num+1,a.product_list=i>1?a.product_list.concat(t.data.data):t.data.data,a.isScroll=!0,a.total_count=t.data.total_count}else Object(r.Toast)({message:t.data.message,duration:1e3,className:"m-toast-fail"})},function(t){Object(r.Toast)({message:t.data.message,duration:1e3,className:"m-toast-fail"})})},foldClick:function(){this.isFold=!this.isFold}}},u={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return t.brand_info?s("div",{staticClass:"m-brandDetail",on:{touchmove:function(a){return a.stopPropagation(),t.touchMove(a)}}},[s("div",{staticClass:"m-brand-info"},[s("img",{staticClass:"m-brand-img",attrs:{src:t.brand_info.pbbackgroud,alt:""}}),t._v(" "),s("span",{staticClass:"m-icon-bg"}),t._v(" "),s("img",{staticClass:"m-brand-logo",attrs:{src:t.brand_info.pblogo}}),t._v(" "),s("div",{staticClass:"m-brand-name"},[s("p",{staticClass:"m-ft-30 m-ft-b"},[t._v(t._s(t.brand_info.pbname))])])]),t._v(" "),s("div",{staticClass:"m-brand-text"},[s("div",{staticClass:"m-normal",class:t.isFold?"m-fold":""},[t._v("\n      "+t._s(t.brand_info.pbdesc)+"\n    ")]),t._v(" "),s("p",{staticClass:"m-up-fold"},[t.isFold?s("span",{on:{click:t.foldClick}},[t._v("点击收起 "),s("span",{staticClass:"m-icon-packup"})]):s("span",{on:{click:t.foldClick}},[t._v("点击展开 "),s("span",{staticClass:"m-icon-unfold"})])])]),t._v(" "),s("nav-list",{attrs:{navlist:t.nav_list},on:{navClick:t.navClick}}),t._v(" "),s("product",{attrs:{list:t.product_list}}),t._v(" "),t.bottom_show?s("bottom-line"):t._e()],1):t._e()},staticRenderFns:[]};var p=s("VU/8")(_,u,!1,function(t){s("5ZA0")},"data-v-db70caf2",null);a.default=p.exports}});
//# sourceMappingURL=12.d51f5da86340ffdbbe5b.js.map