{"version":3,"sources":["webpack:///src/views/buyer/personal/personalInfo.vue","webpack:///./src/views/buyer/personal/personalInfo.vue?2d84","webpack:///./src/views/buyer/personal/personalInfo.vue"],"names":["personalInfo","data","user","name","genderPopup","slots","values","gender","birthday","startDate","Date","endDate","components","methods","changeRoute","v","this","$router","push","getUser","_this","axios_default","a","get","api","get_home","localStorage","getItem","then","res","status","usgender","usGender","usname","usbirthday","Object","mint_ui_common","message","genderDone","genderChange","picker","openPicker","$refs","open","handleChange","value","moment_default","format","saveUser","params","post","update_user","mounted","common","changeTitle","personal_personalInfo","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","src","usheader","alt","_s","usidname","directives","rawName","expression","type","placeholder","domProps","on","input","$event","target","composing","click","position","model","callback","$$v","change","ref","year-format","month-format","date-format","confirm","$set","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.4381449b6eefd27d74db.js","sourcesContent":["<template>\r\n  <div class=\"m-personal \" >\r\n    <div class=\"m-personal-bg\">\r\n      <span class=\"m-icon-bg\"></span>\r\n    </div>\r\n    <div class=\"m-personal-content m-setUp\">\r\n      <div class=\"m-personal-info\">\r\n        <img :src=\"user.usheader\" class=\"m-personal-head-portrait\" alt=\"\">\r\n        <div class=\"m-personal-info-box\">\r\n          <div class=\"m-personal-info-text\">\r\n            <div>\r\n              <p>{{user.usname}}</p>\r\n              <p>\r\n                <span class=\"m-personal-identity\">{{user.usidname}}</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"m-personal-body\">\r\n        <div class=\"m-one-part\">\r\n          <ul class=\"m-edit-ul\">\r\n            <li>\r\n              <div>\r\n                <span>用户名</span>\r\n              </div>\r\n              <div>\r\n                <input type=\"text\" class=\"m-edit-input\" v-model=\"name\" placeholder=\"请输入用户名\">\r\n              </div>\r\n            </li>\r\n            <li @click=\"genderPopup = true\">\r\n              <div>\r\n                <span>性别</span>\r\n              </div>\r\n              <div>\r\n                <span>{{user.usGender}}</span>\r\n                <span class=\"m-icon-more\"></span>\r\n              </div>\r\n            </li>\r\n            <li @click=\"openPicker('birthdayPicker')\">\r\n              <div>\r\n                <span>出生日期</span>\r\n              </div>\r\n              <div>\r\n                <span>{{birthday}}</span>\r\n                <span class=\"m-icon-more\"></span>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n          <!--性别picker-->\r\n          <mt-popup class=\"m-gender-popup\" v-model=\"genderPopup\" position=\"bottom\">\r\n            <div class=\"m-popup-btn\">\r\n              <div @click=\"genderPopup = false\">取消</div>\r\n              <div @click=\"genderDone\">确认</div>\r\n            </div>\r\n            <mt-picker :slots=\"slots\" @change=\"genderChange\"></mt-picker>\r\n          </mt-popup>\r\n          <!--出生日期的picker-->\r\n          <mt-datetime-picker ref=\"birthdayPicker\" type=\"date\" v-model=\"user.usbirthday\" year-format=\"{value} 年\" month-format=\"{value} 月\" date-format=\"{value} 日\"\r\n                             :startDate=\"startDate\" :endDate=\"endDate\" @confirm=\"handleChange\">\r\n          </mt-datetime-picker>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"m-foot-btn\">\r\n      <span @click=\"saveUser\">保 存</span>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import common from '../../../common/js/common';\r\n  import axios from 'axios';\r\n  import api from '../../../api/api';\r\n  import { Toast } from 'mint-ui';\r\n  import moment from 'moment';                      // 格式化时间\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        user: {},                             // 个人信息\r\n        name: \"\",                             // 暂存用户名\r\n        genderPopup: false,                   // 性别picker\r\n        slots: [{ values: ['男', '女'] }],\r\n        gender: \"\",                           // 暂存性别\r\n        birthday: \"\",                         // 暂存出生日期\r\n        startDate: new Date(\"1901-01-01\"),\r\n        endDate: new Date()\r\n      }\r\n    },\r\n    components: {},\r\n    methods: {\r\n      // 跳转页面\r\n      changeRoute(v){\r\n        this.$router.push(v)\r\n      },\r\n      // 获取个人信息\r\n      getUser() {\r\n        axios.get(api.get_home + \"?token=\" + localStorage.getItem('token')).then(res => {\r\n          if(res.data.status == 200){\r\n            this.user = res.data.data;\r\n            // 性别判断\r\n            if(this.user.usgender == \"0\") {\r\n              this.user.usGender = \"男\";\r\n            }else if(this.user.usgender == \"1\") {\r\n              this.user.usGender = \"女\";\r\n            }\r\n            this.name = this.user.usname;\r\n            if(!this.user.usbirthday) {\r\n              this.user.usbirthday = \"1995-01-01\";\r\n            }\r\n            this.birthday = this.user.usbirthday;\r\n          }else{\r\n            Toast(res.data.message);\r\n          }\r\n        });\r\n      },\r\n      // 性别picker的确认按钮\r\n      genderDone() {\r\n        this.genderPopup = false;\r\n        this.user.usGender = this.gender;\r\n      },\r\n      // picker选择的性别改变\r\n      genderChange(picker, values) {\r\n        this.gender = values[0];\r\n      },\r\n      // 打开date-picker\r\n      openPicker(picker) {\r\n        this.$refs[picker].open();\r\n      },\r\n      // picker选择的日期改变\r\n      handleChange(value) {\r\n        this.birthday = moment(value).format('YYYY-MM-DD');\r\n      },\r\n      // 保存用户信息\r\n      saveUser() {\r\n        let params = { usname: this.name, usbirthday: this.birthday };\r\n        if(this.gender == \"男\") {\r\n          params.usgender = \"0\";\r\n        }else if(this.gender == \"女\") {\r\n          params.usgender = \"1\";\r\n        }\r\n        axios.post(api.update_user + '?token=' + localStorage.getItem('token'), params).then(res => {\r\n          if(res.data.status == 200){\r\n            Toast(res.data.message);\r\n          }else{\r\n            Toast(res.data.message);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    mounted() {\r\n      common.changeTitle('个人资料');\r\n      this.getUser();       // 获取个人信息\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"less\" rel=\"stylesheet/less\" scoped>\r\n  @import \"../../../common/css/personal\";\r\n\r\n  .m-gender-popup {\r\n    width: 750px;\r\n    .m-popup-btn {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      font-size: 28px;\r\n      padding: 20px 40px 0 40px;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/buyer/personal/personalInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-personal \"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"m-personal-content m-setUp\"},[_c('div',{staticClass:\"m-personal-info\"},[_c('img',{staticClass:\"m-personal-head-portrait\",attrs:{\"src\":_vm.user.usheader,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"m-personal-info-box\"},[_c('div',{staticClass:\"m-personal-info-text\"},[_c('div',[_c('p',[_vm._v(_vm._s(_vm.user.usname))]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"m-personal-identity\"},[_vm._v(_vm._s(_vm.user.usidname))])])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"m-personal-body\"},[_c('div',{staticClass:\"m-one-part\"},[_c('ul',{staticClass:\"m-edit-ul\"},[_c('li',[_vm._m(1),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"m-edit-input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}})])]),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){_vm.genderPopup = true}}},[_vm._m(2),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(_vm._s(_vm.user.usGender))]),_vm._v(\" \"),_c('span',{staticClass:\"m-icon-more\"})])]),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){_vm.openPicker('birthdayPicker')}}},[_vm._m(3),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(_vm._s(_vm.birthday))]),_vm._v(\" \"),_c('span',{staticClass:\"m-icon-more\"})])])]),_vm._v(\" \"),_c('mt-popup',{staticClass:\"m-gender-popup\",attrs:{\"position\":\"bottom\"},model:{value:(_vm.genderPopup),callback:function ($$v) {_vm.genderPopup=$$v},expression:\"genderPopup\"}},[_c('div',{staticClass:\"m-popup-btn\"},[_c('div',{on:{\"click\":function($event){_vm.genderPopup = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('div',{on:{\"click\":_vm.genderDone}},[_vm._v(\"确认\")])]),_vm._v(\" \"),_c('mt-picker',{attrs:{\"slots\":_vm.slots},on:{\"change\":_vm.genderChange}})],1),_vm._v(\" \"),_c('mt-datetime-picker',{ref:\"birthdayPicker\",attrs:{\"type\":\"date\",\"year-format\":\"{value} 年\",\"month-format\":\"{value} 月\",\"date-format\":\"{value} 日\",\"startDate\":_vm.startDate,\"endDate\":_vm.endDate},on:{\"confirm\":_vm.handleChange},model:{value:(_vm.user.usbirthday),callback:function ($$v) {_vm.$set(_vm.user, \"usbirthday\", $$v)},expression:\"user.usbirthday\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"m-foot-btn\"},[_c('span',{on:{\"click\":_vm.saveUser}},[_vm._v(\"保 存\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-personal-bg\"},[_c('span',{staticClass:\"m-icon-bg\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',[_vm._v(\"用户名\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',[_vm._v(\"性别\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',[_vm._v(\"出生日期\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a9f09e08\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/buyer/personal/personalInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a9f09e08\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./personalInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./personalInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./personalInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a9f09e08\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./personalInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a9f09e08\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/buyer/personal/personalInfo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}