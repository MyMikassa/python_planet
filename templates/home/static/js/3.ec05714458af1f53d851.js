webpackJsonp([3],{"7hW1":function(t,s){},E10X:function(t,s){},QGhS:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("CaOM"),n=a("QLTB"),i=a("mtWM"),o=a.n(i),c=a("P9l9"),u=a("Au9i"),p=a("BpNX"),r={data:function(){return{product_info:null,show_picker:!1,show_coupon:!1,slots:[{flex:1,values:["2015-01","2015-02","2015-03","2015-04","2015-05","2015-06"],className:"slot1",textAlign:"center"}],picker_params:"company",address_info:{},coupon_info:null,total_money:0,uaid:"",couponList:[],fromGift:!1,giftPopup:!1}},components:{picker:n.a,coupon:p.a},mounted:function(){if(e.a.changeTitle("下单"),this.$route.query.product){this.product_info=JSON.parse(this.$route.query.product);for(var t=0,s=0;s<this.product_info.length;s++)for(var a=0;a<this.product_info[s].cart.length;a++)t+=Number(this.product_info[s].cart[a].sku.skuprice)*this.product_info[s].cart[a].canums;this.total_money=t,this.$route.query.gift&&(this.fromGift=!0)}this.uaid=localStorage.getItem("uaid"),this.getOneAddress(),this.getCoupon()},methods:{changeRoute:function(t,s){s?this.$router.push({path:t,query:{from:s}}):this.$router.push(t)},getOneAddress:function(){var t=this,s={token:localStorage.getItem("token")};this.uaid&&(s.uaid=this.uaid),o.a.get(c.a.get_one_address,{params:s}).then(function(s){200==s.data.status?(t.address_info=s.data.data,t.uaid=s.data.data.uaid,localStorage.removeItem("uaid")):t.address_info.uaname="没有地址信息，请点此添加"})},getCoupon:function(){var t=this;o.a.get(c.a.list_user_coupon,{params:{token:localStorage.getItem("token"),ucalreadyuse:!1,canuse:!0}}).then(function(s){200==s.data.status&&(t.couponList=s.data.data)})},changeModel:function(t,s){this[t]=s},pickerSave:function(t,s){this[t]=s},inputChange:function(t){console.log(t)},submitOrder:function(){if(!this.uaid)return Object(u.Toast)("请先选择收货地址"),!1;this.fromGift&&(this.giftPopup=!0)},couponClick:function(t){this.coupon_info=t,this.show_coupon=!1}},created:function(){}},l={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"m-submitOrder"},[a("div",{staticClass:"m-one-part m-pl-s m-pr-s m-address-part",on:{click:function(s){t.changeRoute("personal/addressManagement","choose")}}},[t.address_info.uaphone?t._e():a("div",{staticClass:"m-left"},[a("div",{staticClass:"m-address-name"},[a("div",[a("span",{staticClass:"m-border"}),t._v(" "),a("span",[t._v(t._s(t.address_info.uaname))])])])]),t._v(" "),t.address_info.uaphone?a("div",{staticClass:"m-left"},[a("div",{staticClass:"m-address-name"},[a("div",[a("span",{staticClass:"m-border"}),t._v(" "),a("span",[t._v("收货人："+t._s(t.address_info.uaname))])]),t._v(" "),a("span",[t._v(t._s(t.address_info.uaphone))])]),t._v(" "),a("p",{staticClass:"m-address-p"},[t._v("\n        收货地址："+t._s(t.address_info.addressinfo)+"\n      ")])]):t._e(),t._v(" "),a("span",{staticClass:"m-icon-more"})]),t._v(" "),a("div",{staticClass:"m-one-part"},t._l(t.product_info,function(s,e){return a("div",[a("h3",[t._v(t._s(s.pb.pbname))]),t._v(" "),t._l(s.cart,function(s,e){return a("div",{staticClass:"m-product"},[a("div",[a("img",{staticClass:"m-product-img",attrs:{src:s.sku.skupic,alt:""}})]),t._v(" "),a("div",[a("h3",[t._v(t._s(s.product.prtitle))]),t._v(" "),a("p",{staticClass:"m-sku-select"},[t._l(s.sku.skuattritedetail,function(e,n){return[a("span",[t._v(t._s(e))]),t._v(" "),n<s.sku.skuattritedetail.length-1?a("span",[t._v("；")]):t._e()]})],2),t._v(" "),a("p",{staticClass:"m-price-num"},[a("span",{staticClass:"m-price"},[t._v("￥"+t._s(t._f("money")(s.sku.skuprice)))]),t._v(" "),a("span",[t._v("x"+t._s(s.canums))])])])])})],2)})),t._v(" "),a("div",{staticClass:"m-one-part"},[a("ul",{staticClass:"m-order-ul"},[a("li",{staticClass:"m-sku-num"},[a("span",[t._v("商品金额")]),t._v(" "),a("div",{staticClass:"m-num "},[t._v("\n          ￥"+t._s(t._f("money")(t.total_money))+"\n        ")])]),t._v(" "),a("li",{staticClass:"m-flex-between"},[a("span",[t._v("配送方式")]),t._v(" "),a("div",{on:{click:function(s){t.changeModel("show_picker",!0)}}},[a("span",[t._v("快递:包邮")]),t._v(" "),a("span",{staticClass:"m-icon-more"})])]),t._v(" "),t._m(0),t._v(" "),a("li",{staticClass:"m-flex-between"},[a("span",[t._v("优惠方式")]),t._v(" "),t.couponList?a("div",{on:{click:function(s){t.changeModel("show_coupon",!0)}}},[t.coupon_info?a("span",{staticClass:"m-grey"},[t._v(t._s(t.coupon_info.coname))]):a("span",[t._v("选择优惠券")]),t._v(" "),a("span",{staticClass:"m-icon-more"})]):a("div",[a("span",[t._v("无优惠券")])])]),t._v(" "),t._m(1)])]),t._v(" "),a("mt-popup",{staticClass:"m-gift-popup",attrs:{"pop-transition":"popup-fade"},model:{value:t.giftPopup,callback:function(s){t.giftPopup=s},expression:"giftPopup"}},[a("img",{staticClass:"m-gift-popup-img",attrs:{src:"/static/images/icon-out-know.png",alt:""}}),t._v(" "),a("div",{staticClass:"m-ft-30 m-ft-b"},[t._v("支付成功")]),t._v(" "),a("div",{staticClass:"m-gift-popup-text m-ft-24"},[t._v("支付成功，提交申请并完成审批即可成为卖家。")]),t._v(" "),a("div",{staticClass:"m-gift-popup-btn m-ft-30 m-ft-b",on:{click:function(s){t.changeRoute("/storekeeper/IDCardApprove")}}},[t._v("填写申请")])]),t._v(" "),a("div",{staticClass:"m-order-btn"},[a("span",{ref:"button",on:{click:t.submitOrder}},[t._v("支付订单")])]),t._v(" "),a("mt-popup",{staticClass:"m-coupon-modal",attrs:{"popup-transition":"popup-fade"},model:{value:t.show_coupon,callback:function(s){t.show_coupon=s},expression:"show_coupon"}},[a("div",{staticClass:"m-coupon-modal-content"},[a("coupon",{attrs:{couponList:t.couponList},on:{couponClick:t.couponClick}})],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-message"},[s("span",[this._v("买家留言：")]),this._v(" "),s("textarea",{attrs:{name:"",id:"",placeholder:"选填"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-flex-between"},[s("span",[this._v("付款方式")]),this._v(" "),s("div",[s("span",[this._v("微信")])])])}]};var _=a("VU/8")(r,l,!1,function(t){a("7hW1")},"data-v-715c31ed",null);s.default=_.exports},QLTB:function(t,s,a){"use strict";var e={data:function(){return{select:"",input_value:""}},props:{slots:{type:Array,default:null},show_picker:{type:Boolean,default:!1},params:{type:String,default:""},is_search:{type:Boolean,default:!1}},methods:{onValuesChange:function(t,s){console.log(s),this.select=s},pickerSave:function(t){this.input_value="",this.$emit("pickerSave","show_picker",t,this.select,this.params)},cancelSave:function(t){this.input_value="",this.$emit("pickerSave","show_picker",t)},inputChange:function(){this.$emit("inputChange",this.input_value)}}},n={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("mt-popup",{attrs:{"popup-transition":"popup-fade"},model:{value:t.show_picker,callback:function(s){t.show_picker=s},expression:"show_picker"}},[a("p",{staticClass:"m-picker-text"},[a("span",{staticClass:"cancel",on:{click:function(s){t.cancelSave(!1)}}},[t._v("取消")]),t._v(" "),a("span",{staticClass:"m-picker-btn",on:{click:function(s){t.pickerSave(!1)}}},[t._v("确定")])]),t._v(" "),t.is_search?a("input",{directives:[{name:"model",rawName:"v-model",value:t.input_value,expression:"input_value"}],staticClass:"m-picker-input",attrs:{type:"text"},domProps:{value:t.input_value},on:{input:[function(s){s.target.composing||(t.input_value=s.target.value)},t.inputChange]}}):t._e(),t._v(" "),a("mt-picker",{attrs:{slots:t.slots,"value-key":"name"},on:{change:t.onValuesChange}})],1)},staticRenderFns:[]};var i=a("VU/8")(e,n,!1,function(t){a("E10X")},"data-v-1c72f9fc",null);s.a=i.exports}});
//# sourceMappingURL=3.ec05714458af1f53d851.js.map