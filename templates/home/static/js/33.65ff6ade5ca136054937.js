webpackJsonp([33],{Ee5G:function(t,s){},GSpQ:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("mtWM"),n=e.n(a),i=e("P9l9"),c=(e("Au9i"),{data:function(){return{searchContent:"",history_list:null,result_list:null,isNews:!1}},mounted:function(){this.historySearch()},methods:{returnBack:function(){this.$router.go(-1)},historySearch:function(){var t=this;n.a.get(i.a.search_history,{params:{token:localStorage.getItem("token"),shtype:this.$route.query.shtype||"product"}}).then(function(s){200==s.data.status&&s.data.data.length>0&&(t.history_list=s.data.data)})},searchInfo:function(){var t=this;n.a.get(i.a.guess_search,{params:{kw:this.searchContent,shtype:this.$route.query.shtype||"product"}}).then(function(s){200==s.data.status&&(t.result_list=s.data.data)})},changeRoute:function(t){this.searchContent=t&&t.ushname||this.searchContent,this.$route.query.shtype?this.$router.push({path:"/circle",query:{kw:this.searchContent}}):this.$router.push({path:"/product",query:{kw:this.searchContent}})},clearHistory:function(){var t=this;n.a.post(i.a.del_search_history+"?token="+localStorage.getItem("token"),{shtype:this.$route.query.shtype||"product"}).then(function(s){200==s.data.status&&(t.history_list=null)})},clearInput:function(){this.searchContent=""},keyPress:function(t){13==t.keyCode&&this.changeRoute()}}}),r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"m-search"},[e("div",{staticClass:"m-flex-between m-search-top"},[e("div",{staticClass:"m-search-input-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchContent,expression:"searchContent"}],attrs:{type:"text",autofocus:"!search",placeholder:"请输入搜索内容"},domProps:{value:t.searchContent},on:{input:[function(s){s.target.composing||(t.searchContent=s.target.value)},t.searchInfo],keypress:t.keyPress}}),t._v(" "),e("span",{staticClass:"m-icon-close",on:{click:t.clearInput}})]),t._v(" "),e("span",{on:{click:t.returnBack}},[t._v("取消")])]),t._v(" "),t.isNews?e("div",{staticClass:"m-search-content"},[!t.result_list&&t.history_list?e("div",{staticClass:"m-search-one"},[e("p",{staticClass:"m-ft-22 m-flex-between"},[e("span",[t._v("历史记录")]),t._v(" "),e("span",{on:{click:t.clearHistory}},[t._v("清除")])]),t._v(" "),t.result_list?e("ul",{staticClass:"m-search-result-ul"},t._l(t.result_list,function(s){return e("li",{on:{click:function(e){t.changeRoute(s)}}},[e("span",[t._v(t._s(s.ushname))]),t._v(" "),e("span",{staticClass:"m-icon-go"})])})):t._e()]):e("div",{staticClass:"m-search-one"},[t.result_list?e("ul",{staticClass:"m-search-result-ul"},t._l(t.result_list,function(s){return e("li",{on:{click:function(e){t.changeRoute(s)}}},[e("span",[t._v(t._s(s.ushname))]),t._v(" "),e("span",{staticClass:"m-icon-go"})])})):t._e()])]):e("div",{staticClass:"m-search-content"},[!t.result_list&&t.history_list?e("div",{staticClass:"m-search-one"},[e("p",{staticClass:"m-ft-22 m-flex-between"},[e("span",[t._v("历史记录")]),t._v(" "),e("span",{on:{click:t.clearHistory}},[t._v("清除")])]),t._v(" "),e("ul",{staticClass:"m-tab-ul"},t._l(t.history_list,function(s){return e("li",{on:{click:function(e){t.changeRoute(s)}}},[t._v(t._s(s.ushname))])}))]):t._e(),t._v(" "),t.result_list?e("ul",{staticClass:"m-search-result-ul"},t._l(t.result_list,function(s){return e("li",{on:{click:function(e){t.changeRoute(s)}}},[e("span",[t._v(t._s(s.ushname))]),t._v(" "),e("span",{staticClass:"m-icon-go"})])})):t._e()])])},staticRenderFns:[]};var o=e("VU/8")(c,r,!1,function(t){e("Ee5G")},"data-v-6447f976",null);s.default=o.exports}});
//# sourceMappingURL=33.65ff6ade5ca136054937.js.map